<%- include("partials/header") %>
<%- include("partials/navbar") %>
<div class="d-flex flex-row justify-content-center">
    <form class="w-50 mt-3 d-flex flex-column align-items-center row g-3 needs-validation" novalidate action="<%= isUpdate ? `/finance/${receita.id}/update` : '/finance/new' %>" method="post">
        <%if(isUpdate){ %>
            <h2 class="text-center mt-3">Atualizar receita</h2>
        <%}else{%>
            <h2 class="text-center mt-3">Cadastrar nova receita</h2>
        <% }%>
        <div class="mb-3">
            <label for="tipo" class="form-label">Tipo</label>
            <select id="tipo" class="form-select" required name="tipo" value="Despesa">
              <option value="receita" <%= isUpdate && receita.tipo === "receita" ? 'selected' : '' %>>Receita</option>
              <option value="despesa" <%= isUpdate && receita.tipo === "despesa" ? 'selected' : '' %>>Despesa</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="valor" class="form-label">Valor</label>
            <input type="number" id="valor" class="form-control" step="0.01" placeholder="Digite o valor" required name="valor" value="<%= isUpdate ? receita.valor : ''  %>">
        </div>
        <div class="mb-3">
            <label for="data" class="form-label">Data</label>
            <input type="date" id="data" class="form-control" required name="data" value="<%= isUpdate ? receita.data : ''  %>">
        </div>
        <div class="mt-3">
            <button type="submit" class="btn btn-primary w-100 mt-3">Enter</button>
        </div>
        <% if(showError == true) { %>
            <p style="color: red;">Por favor, preencha o formul√°rio corretamente.</p>
        <% } %>
    </form>
</div>
<%- include("partials/footer") %>